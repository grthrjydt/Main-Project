import{j as d}from"./index-GlDaeC7z.js";const m="https://pokeapi.co/api/v2",c=new Map;async function o(e){if(c.has(e))return c.get(e);const a=await fetch(e);if(!a.ok)throw new Error(`Failed to fetch ${e}`);const n=await a.json();return c.set(e,n),n}const l=e=>{const a=e.find(n=>n.language.name==="ko");return a?a.name:""},k=e=>{const a=e.find(n=>n.language.name==="ko");return a?a.flavor_text.replace(/\n/g," "):"No description available."},y=e=>{const a=e.split("/");return parseInt(a[a.length-2])},w=async()=>(await o(`${m}/pokemon?limit=1302`)).results,P=async()=>{const e="allSearchablePokemons";if(c.has(e))return c.get(e);const a=await w(),n=[],g=100;for(let i=0;i<a.length;i+=g){const t=a.slice(i,i+g).map(async s=>{try{const b=y(s.url),u=await o(`${m}/pokemon-species/${b}`),h=l(u.names)||s.name;return{id:b,name:s.name,koreanName:h,url:s.url}}catch{return{id:y(s.url),name:s.name,koreanName:s.name,url:s.url}}}),r=await Promise.all(t);n.push(...r)}return c.set(e,n),n},x=async e=>{const a=await o(`${m}/pokemon/${e}`),n=await o(`${m}/pokemon-species/${e}`),g=await Promise.all(a.types.map(async t=>{const r=await o(t.type.url);return{...t,type:{...t.type,koreanName:l(r.names)||t.type.name}}})),i=await Promise.all(a.abilities.map(async t=>{const r=await o(t.ability.url);return{...t,ability:{...t.ability,koreanName:l(r.names)||t.ability.name}}})),p=await Promise.all(a.stats.map(async t=>{const r=await o(t.stat.url);return{...t,stat:{...t.stat,koreanName:l(r.names)||t.stat.name}}}));return{id:a.id,name:a.name,koreanName:l(n.names)||a.name,imageUrl:a.sprites.other["official-artwork"].front_default,backImageUrl:a.sprites.back_default,types:g,stats:p,abilities:i,flavorText:k(n.flavor_text_entries)}},f={normal:"bg-gray-400",fighting:"bg-red-700",flying:"bg-indigo-400",poison:"bg-purple-600",ground:"bg-yellow-600",rock:"bg-yellow-800",bug:"bg-lime-500",ghost:"bg-indigo-800",steel:"bg-gray-500",fire:"bg-red-500",water:"bg-blue-500",grass:"bg-green-500",electric:"bg-yellow-400",psychic:"bg-pink-500",ice:"bg-cyan-300",dragon:"bg-indigo-700",dark:"bg-gray-800",fairy:"bg-pink-300",unknown:"bg-gray-200",shadow:"bg-gray-700"},_=({type:e})=>{const a=f[e.name]||"bg-gray-400";return d.jsx("span",{className:`px-3 py-1 text-xs font-bold text-white rounded-full ${a}`,children:e.koreanName})};export{_ as T,P as a,x as g};
