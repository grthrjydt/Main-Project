import{u as g,r as l,a as N,j as e,L as v,b as y}from"./index-CtXjOUSi.js";import{T as k,g as w}from"./TypeBadge-BQ0xCvXX.js";const S=()=>{const{id:r}=g(),[s,m]=l.useState(null),[h,c]=l.useState(!0),[n,d]=l.useState(null),{addFavorite:b,removeFavorite:f,isFavorite:j}=N(),[i,o]=l.useState(!1);if(l.useEffect(()=>{(async()=>{if(r){c(!0),d(null);try{const a=await w(r);m(a)}catch(a){d("앗! 이 포켓몬은 숨어있나 봐요."),console.error(a)}finally{c(!1)}}})()},[r]),h)return e.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:e.jsx(v,{})});if(n||!s)return e.jsx("p",{className:"text-center text-yellow-400 text-2xl mt-10",children:n});const x=j(s.id),u=()=>{x?f(s.id):b(s.id)},p=255;return e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 md:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xl text-gray-400",children:["No. ",String(s.id).padStart(4,"0")]}),e.jsx("h2",{className:"text-5xl font-bold capitalize",children:s.koreanName})]}),e.jsx("button",{onClick:u,className:"text-4xl text-gray-500 hover:text-red-500 transition-colors",children:x?"♥":"♡"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-64 h-64 md:w-80 md:h-80 [perspective:1000px]",onClick:()=>o(!i),children:e.jsxs("div",{className:`relative w-full h-full [transform-style:preserve-3d] transition-transform duration-500 ${i?"[transform:rotateY(180deg)]":""}`,children:[e.jsx("img",{src:s.imageUrl,alt:s.name,className:"absolute w-full h-full object-contain [backface-visibility:hidden]"}),e.jsx("img",{src:s.backImageUrl||s.imageUrl,alt:`${s.name} back`,className:"absolute w-full h-full object-contain [backface-visibility:hidden] [transform:rotateY(180deg)]"})]})}),e.jsx("button",{onClick:()=>o(!i),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"뒤집기"}),e.jsx("p",{className:"text-gray-300 mt-4 text-center italic text-lg",children:s.flavorText})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-2 border-b-2 border-red-500 pb-1",children:"타입"}),e.jsx("div",{className:"flex space-x-2",children:s.types.map(({type:t})=>e.jsx(k,{type:t},t.name))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-3 border-b-2 border-red-500 pb-1",children:"능력"}),e.jsx("ul",{className:"text-lg",children:s.abilities.map(({ability:t,is_hidden:a})=>e.jsxs("li",{className:"capitalize",children:[t.koreanName," ",a&&e.jsx("span",{className:"text-sm text-gray-400",children:"(숨겨진 특성)"})]},t.name))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-3 border-b-2 border-red-500 pb-1",children:"기본 스탯"}),s.stats.map(({stat:t,base_stat:a})=>e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"w-1/3 text-md capitalize",children:t.koreanName}),e.jsx("div",{className:"w-2/3 bg-gray-600 rounded-full h-5",children:e.jsx("div",{className:"bg-green-500 h-5 rounded-full flex items-center justify-end px-2",style:{width:`${a/p*100}%`},children:e.jsx("span",{className:"font-bold text-sm text-black",children:a})})})]},t.name))]})]})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(y,{to:"/",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-lg",children:"목록으로 돌아가기"})})]})};export{S as default};
